<!DOCTYPE html>
<html>
<head>
    <title>Cancer Heatmap</title>
</head>
<body>
    <h1>Cancer Data Viewer</h1>
    
    <!-- Form for user input -->
    <form method="POST">
        <label for="cancer_type">Cancer Type:</label>
        <select id="cancer_type" name="cancer_type" required>
            {% for cancer in cancer_types %}
                <option value="{{ cancer }}" {% if cancer == cancer_type %}selected{% endif %}>{{ cancer }}</option>
            {% endfor %}
        </select>

        <label for="year">Year:</label>
        <input type="number" id="year" name="year" required value="{{ year if year else '' }}">

        <button type="submit">Submit</button>
    </form>

    <!-- Display results if data is available -->
    {% if data %}
        <h2>Results for {{ cancer_type }} in {{ year }}</h2>
        <table border="1">
            <thead>
                <tr>
                    <th>State ID</th>
                    <th>Total Count</th>
                </tr>
            </thead>
            <tbody>
                {% for row in data %}
                <tr>
                    <td>{{ row['state_id'] }}</td>
                    <td>{{ row['total_count'] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</body>
</html>
